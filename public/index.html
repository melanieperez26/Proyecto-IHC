<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">Portal Cultural de Manta</title>
    <link rel="stylesheet" href="/css/style.css">
    <!-- Leaflet CSS y JS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

    <!-- Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/OrbitControls.js"></script>
    <script src="js/services/languageService.js"></script>
    <script src="js/preview.js"></script>
    <script type="module" src="/js/main.js"></script>
</head>
<body>
    <header>
        <div class="logo-container">
            <h1 class="logo" id="logo-text">CULTURA MANTA</h1>
        </div>
        <nav class="main-nav">
            <div class="search-container" role="search" aria-label="Barra de búsqueda">
                <div class="search-toggle" id="search-toggle" aria-label="Abrir barra de búsqueda">
                    <span>Buscar🔍</span>
                </div>
                <div class="search-expanded hidden" id="search-expanded">
                    <form id="search-form" class="search-form" role="search" aria-label="Formulario de búsqueda">
                        <input type="search" id="search-input" aria-label="Buscar en el portal" placeholder="Escribe aqui lo que deseas buscar en el portal">
                        <button type="submit" aria-label="Buscar en el portal">🔍</button>
                        <button type="button" id="clear-search" aria-label="Limpiar búsqueda">❌</button>
                    </form>
                    <ul id="search-suggestions" class="search-suggestions hidden" aria-label="Sugerencias de búsqueda"></ul>
                    <p id="search-message" style="color: red; font-size: 0.9rem;"></p>
                </div>
            </div>
            <ul class="nav-links" role="navigation" aria-label="Menu principal">
                <li><a href="#" class="active" id="home-link" aria-label="Ir al inicio">INICIO</a></li>
                <li><a href="#" id="guia-link" aria-label="Ir a la guia multilingue">GUÍA MULTILINGÜE</a></li>
                <li><a href="#" id="tours-link" aria-label="Ir a los recorridos 360°">RECORRIDOS 360°</a></li>
                <li><a href="#" id="mapa-link" aria-label="Ir al mapa historico">MAPA HISTÓRICO</a></li>
                <li><a href="#" id="encuesta-link" aria-label="Ir a la encuesta">ENCUESTA</a></li>
            </ul>
        </nav>
        
        <nav class="language-selector">
            <button class="language-button active" data-idioma="es" onclick="languageService.setLanguage('es')">Español</button>
            <button class="language-button" data-idioma="en" onclick="languageService.setLanguage('en')">English</button>
        </nav>
    </header>

    <main>
        <section id="hero" class="module" role="region" aria-label="Bienvenido al Portal Cultural de Manta">
            <h1 id="welcome-text">Bienvenido al Portal Cultural de Manta</h1>
            <p id="description-text">Explora la riqueza cultural y patrimonial de Manta</p>
        </section>

        <section id="guia" class="module hidden" role="region" aria-label="Guía Multilingüe">
            <h2 id="guia-title">Guía Multilingüe</h2>
            <div id="guia-container"></div>
        </section>

        <section id="recorridos" class="module hidden" role="region" aria-label="Recorridos 360°"> 
            <h2 id="tours-title">Recorridos 360°</h2>
            <p>Explora libremente las salas virtuales dedicadas a la historia, cultura y patrimonio de Manta.</p>
            <div id="recorrido-container" class="recorrido-container">
                <div class="iframe-container">
                    <iframe 
                      src="https://www.artsteps.com/embed/6873ecd593af61325f2cd502/560/315"
                      frameborder="0" 
                      allowfullscreen 
                      title="Recorrido virtual por el patrimonio de Manta">
                    </iframe>
                </div>
            </div>
        </section>

        <section id="mapa" class="module hidden" role="region" aria-label="Mapa Histórico Interactivo">
            <h2 id="mapa-title">Mapa Histórico Interactivo</h2>
            <h3 id="mapa-subtitle">En este mapa se encuentran marcados los lugares turisticos, históricos y culturales de Manta</h3>
            <div style="display: flex; gap: 1rem;">
                <div id="mapa-sidebar" role="region" aria-label="Panel de lugares turisticos" style="width: 300px; overflow-y: auto;"></div>
                <div id="mapa-container" style="flex: 1; height: 600px;" role="region" aria-label="Mapa turistico de Manta"></div>
            </div>
        </section>

        <section id="encuesta" class="module hidden" role="region" aria-label="Sección de encuestas">
            <h2 id="encuesta-title">Sección de encuestas</h2>
            <form id="encuesta-form" role="form" aria-label="Formulario de encuesta">
            <div class="encuesta-box">
                <h3>¿Cómo fue tu experiencia?</h3>
              
                <div class="rating-group" role="radiogroup" aria-label="Nivel de satisfacción">
                  <label title="Muy mala"><input type="radio" name="rating" value="1" aria-label="1 - Muy mala">Muy Mala😡</label>
                  <label title="Mala"><input type="radio" name="rating" value="2" aria-label="2 - Mala">Mala😕</label>
                  <label title="Regular"><input type="radio" name="rating" value="3" aria-label="3 - Regular">Regular😐</label>
                  <label title="Buena"><input type="radio" name="rating" value="4" aria-label="4 - Buena">Buena🙂</label>
                  <label title="Excelente"><input type="radio" name="rating" value="5" aria-label="5 - Excelente"> Excelente 🤩</label>
                </div>
              
                <textarea id="comment" name="comment" placeholder="¿Tienes alguna sugerencia o mejora? Compartenos tu opinión. (opcional)"></textarea>
                <button id="enviar-btn" aria-label="Enviar encuesta">Enviar</button>
                <small style="color: #666; display:block; margin-top: 8px;">
                    Consejo💡 Usa <strong>Ctrl + 1–5</strong> para calificar, <strong>Ctrl + E</strong> para escribir, <strong>Ctrl + S</strong> para enviar.
                </small>                                 
                <p id="feedback-message" role="status"></p>
              </div>
            </form>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 Portal Cultural de Manta. Todos los derechos reservados.</p>
    </footer>
</body>
</html>